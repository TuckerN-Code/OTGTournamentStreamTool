<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="InGameOverlay.css" />
</head>

<body class="body">
    <table class="scoreboard">
        <tr>
            <td>
            <svg height="60" width="500">
                <polygon id="P1Poly" points="0,0 500,0 500,60 60,60" display="inline"/>
                <text x="55%" y="50%" dominant-baseline="middle" class="PlayerNameText" ><tspan class="PlayerPrefixText" id="P1Prefix">APPLE</tspan><tspan id="P1Tag">JeJaJeJa</tspan></text>
            </svg>
            </td>
            <td><div class="ScoreHolder"><p id="P1Score">1</p><p>:</p><p id="P2Score">2</p></div></td>
            <td>
                <svg height="60" width="500">
                    <polygon id="P2Poly" points="0,0 500,0 440,60 0,60" display="inline" />
                    <text x="45%" y="50%" dominant-baseline="middle" class="PlayerNameText"><tspan class="PlayerPrefixText" id="P2Prefix">APPLE</tspan><tspan id="P2Tag">JeJaJeJa</tspan></text>
                </svg></td>
        </tr>
    </table>
    <table class="Infoboard">
        <tr>

            <td class="TourInfoText" id="TourRound">Winners QuarterFinals</td>

        </tr>
    </table>
</body>

</html>

<script>
    var localID = 0;
    var prevID = -1;
    const userAction = async () => {
        const response = await fetch('http://localhost:5549/players');
        const myPlayer = await response.json();
        localID = myPlayer["packageID"];
        if (localID != prevID) {
            document.getElementById("P1Tag").innerHTML = myPlayer["player1Tag"];
            document.getElementById("P1Prefix").innerHTML = myPlayer["player1Prefix"];
            //document.getElementById("Player1Twitter").innerHTML = myPlayer["player1Twitter"];
            //document.getElementById("Player1Pronouns").innerHTML = myPlayer["player1Pronouns"];
            document.getElementById("P2Tag").innerHTML = myPlayer["player2Tag"];
            document.getElementById("P2Prefix").innerHTML = myPlayer["player2Prefix"];
            //document.getElementById("Player2Twitter").innerHTML = myPlayer["player2Twitter"];
            //document.getElementById("Player2Pronouns").innerHTML = myPlayer["player2Pronouns"];
            document.getElementById("TourRound").innerHTML = myPlayer["tournamentRound"];
            document.getElementById("P1Score").innerHTML = myPlayer["player1Score"];
            document.getElementById("P2Score").innerHTML = myPlayer["player2Score"];
            prevID = localID;
        }
    }
    window.setInterval(userAction, 100);


</script>